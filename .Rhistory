sym('index')
sym('index') |> eval()
library(tidyverse)
sym('index')
sym('index') |> eval()
index <- (area_overlap / area_sp1) * (area_overlap / area_sp2)
index = formula((area_overlap / area_sp1) * (area_overlap / area_sp2))
area_overlap = 1; area_sp1 = 2; area_sp2 = 3
index = formula((area_overlap / area_sp1) * (area_overlap / area_sp2))
(area_overlap / area_sp1) * (area_overlap / area_sp2)
index <- '(area_overlap / area_sp1) * (area_overlap / area_sp2)'
eval(sym(index))
parse(index)
sym(index)
index = (area_overlap / area_sp1) * (area_overlap / area_sp2)
index
area_overlap = 0.01
index
eval(call(index))
eval(index)
(area_overlap / area_sp1) * (area_overlap / area_sp2)
quote((area_overlap / area_sp1) * (area_overlap / area_sp2))
quote((area_overlap / area_sp1) * (area_overlap / area_sp2)) |> eval()
quote((area_overlap / area_sp1) * (area_overlap / area_sp2)) -> ind
ind
df = tibble(area_sp1 = 1:10, area_sp2 = 3:13, area_overlap = rnorm(10,3,2))
df = tibble(area_sp1 = 1:10, area_sp2 = 3:12, area_overlap = rnorm(10,3,2))
df
df = tibble(area_sp1 = 1:10, area_sp2 = 3:12, area_overlap = rnorm(10,3,2))
df
df = tibble(area_sp1 = 1:10, area_sp2 = 3:12, area_overlap = rnorm(10,3,2)) |> mutate(area_overlap = ifelse(area_overlap < 0 , 0, area_overlap))
df
df
df
df = tibble(area_sp1 = 1:10, area_sp2 = 3:12, area_overlap = rnorm(10,3,2)) |> mutate(area_overlap = ifelse(area_overlap < 0 , 0, area_overlap))
df
df |> mutate(Cs = ind)
df |> mutate(Cs = eval(ind))
index = "(area_overlap / area_sp1) * (area_overlap / area_sp2)"
eval(quote(index))
ind <- quote((area_overlap / area_sp1) * (area_overlap / area_sp2))
ind <- quote('(area_overlap / area_sp1) * (area_overlap / area_sp2)')
eval(ind)
eval("(area_overlap / area_sp1) * (area_overlap / area_sp2)")
eval(call("(area_overlap / area_sp1) * (area_overlap / area_sp2)"))
eval(unquote("(area_overlap / area_sp1) * (area_overlap / area_sp2)"))
??unquote
ind <- "(area_overlap / area_sp1) * (area_overlap / area_sp2)"
quote(ind)
quote(call(ind))
eval(ind)
eval(noquote(ind))
ind <- (area_overlap / area_sp1) * (area_overlap / area_sp2)
class(ind)
ind
as.formula(ind)
as.formula(~ind)
as.formula(~call(ind))
ind <- (area_overlap / area_sp1) * (area_overlap / area_sp2)
in <- "(area_overlap / area_sp1) * (area_overlap / area_sp2)"
indd <- "(area_overlap / area_sp1) * (area_overlap / area_sp2)"
noquote(indd)
noquote(indd) |> eval()
noquote(indd) |> call() |> eval()
indd <- expression("(area_overlap / area_sp1) * (area_overlap / area_sp2)")
indd
indd <- "(area_overlap / area_sp1) * (area_overlap / area_sp2)"
noquote(indd) |> get()
noquote(indd)
noquote(indd) |> class()
noquote(indd) |> as.numeric()
ind = (area_overlap / area_sp1) * (area_overlap / area_sp2)
ind
ind |> quote()
quote(id)
quote(ind)
map
map <- st_read(file.choose())
library(sf)
map <- st_read(file.choose())
dev.new()
dev.new()
plot(map)
map_areas = st_area(MAP)
map_areas = st_area(map)
as.integer(cut(map_areas, quantile(map_areas)))
map[6:8,]
map[6:8,] |> plot()
map[6:8,] |> st_area()
map_areas
as.integer(cut(map_areas, quantile(map_areas)))
map <- map |> group_by(sp) |> summarise()
map
map |> mutate(quantile_area = as.integer(cut(map_areas, quantile(map_areas))))
map <- map |> mutate(quantile_area = ifelse(is.na(quantile_area), 1, quantile_area))
# map <- map() |> mutate(area = map_areas)
# map <- within(map, quantile_area <- as.integer(cut(map_areas, quantile(map_areas))))
map <- map |> mutate(quantile_area = as.integer(cut(map_areas, quantile(map_areas))))
map <- map |> mutate(quantile_area = ifelse(is.na(quantile_area), 1, quantile_area))
map
map |> st_buffer(dist = NA)
map |> st_buffer(dist = 0)
buffer <- ifelse( map$quantile_area %in%
c(3,4)
, sqrt(map$area) * shrink_factor_buff, 0 )
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
ls()
getwd(0)
getwd()
shiny::runApp()
runApp()
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
# load distribution maps of species
map = st_read("D:SIG2018_30GB/spp50_AEs_ecoreg.shp")
st_crs(map)
st_crs(map)$epsg
st_crs(map)$epsg |> is.numeric()
length(c())
runApp()
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
shiny::runApp('C:/Users/cassiano/hubic/Amazon_birds/R_Amazon_birds/SCAN_Viewer/SCAN_engine/SCAN_engine')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp()
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_eng')
runApp('C:/Users/cassiano/hubic/SCAN_engine')
runApp('C:/Users/cassiano/hubic/SCAN_engine/SCAN_engine')
library(shiny); runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/html_select_module.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
library(shiny); runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
library(shiny); runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_2.R')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
?fileInput
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial')
library(shiny); runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_bkp.R')
library(shiny); runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Dabukuri_espacial/app_bkp.R')
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
install.packages(c("BH", "blob", "broom", "cachem", "checkmate", "classInt", "cli", "colorspace", "colourvalues", "commonmark", "curl", "data.table", "dbplyr", "digest", "dplyr", "DT", "dtplyr", "e1071", "evaluate", "extrafont", "fansi", "fastmap", "fontawesome", "forcats", "fs", "gargle", "geometries", "ggplot2", "ggrepel", "googledrive", "googlePolylines", "googlesheets4", "graphlayouts", "gtable", "haven", "highr", "hms", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "isoband", "jsonlite", "knitr", "later", "leaflet", "lubridate", "lwgeom", "markdown", "modelr", "openssl", "pillar", "png", "processx", "ps", "purrr", "quantmod", "raster", "Rcpp", "RcppArmadillo", "reactable", "readr", "readxl", "rgdal", "rlang", "rmarkdown", "Rttf2pt1", "s2", "sass", "servr", "sf", "sfheaders", "shiny", "sourcetools", "sp", "stars", "stringi", "svglite", "sys", "terra", "tibble", "tidygraph", "tidyr", "tidyverse", "timechange", "tinytex", "tzdb", "units", "utf8", "V8", "vctrs", "viridis", "viridisLite", "vroom", "wk", "xfun", "XML", "xml2", "xts", "yaml", "zoo"))
shiny::runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Memorial_descritivo/Dabukuri_espacial')
test <- write. table(x, "clipboard", sep="\t")
test <- write.table(x, "clipboard", sep="\t")
test <- read.table( "clipboard", sep="\t")
test
test <- read.table( "clipboard", sep="\t")
panavam <- read.csv("C:/ICMBio/Monitora/PAN/cemave_aves_amazonicas.csv")
head(panavam)
tax <- panavam$TAXON
tax
write(tax,"clipboard")
shiny::runApp('C:/Users/cassiano/hubic/DABUKURI/Memorial_descritivo/Memorial_descritivo/Dabukuri_espacial')
tax
tax
# Create the desired string format
formatted_string <- paste("'", paste(tax, collapse = "', '"), "'", sep = "")
formatted_string
# Print the formatted string
cat(formatted_string, "\n")
# Copy the string to clipboard
writeClipboard(formatted_string)
'Cnipodectes superrufus' %in% tax
library(sf)
library(dplyr)
map <- st_read(file.choose())
map <- st_read(file.choose(), driver = 'ESRI shapefile')
st_drivers()
map <- st_read(file.choose(), driver = "ESRI shapefile")
install.packages(c(
"shiny",
"shinydashboard",
"sf",
"leaflet",
"ggplot2",
"dplyr",
"igraph",
"tidygraph",
"ggraph",
"readr",
"units",
"htmltools",
"lwgeom",
"RColorBrewer",
"DT"
))
library(shiny)
# Run SCAN directly from the repository
runGitHub("SCAN_R_4.5.2", "cassianogatto")
library(shiny)
# Run SCAN directly from the repository
runGitHub("SCAN_R_4.5.2", "cassianogatto")
library(shiny)
# Run SCAN directly from the repository
runGitHub("SCAN_R_4.5.2", "cassianogatto")
shiny::runApp('D:/SIG 2026/R_Shiny/SCAN_V2/SCAN_V2a')
library(shiny)
library(leaflet)
library(sf)
library(dplyr)
# Set upload limit (500MB)
options(shiny.maxRequestSize = 500 * 1024^2)
sf::sf_use_s2(FALSE)
server <- function(input, output, session) {
# --- A. Reactive Data Loading ---
map_raw <- reactive({
req(input$filemap)
shpdf <- input$filemap
# Create temp directory and copy files
tempdirname <- tempdir()
for (i in 1:nrow(shpdf)) {
file.copy(shpdf$datapath[i], file.path(tempdirname, shpdf$name[i]), overwrite = TRUE)
}
# Identify and read the .shp file
shp_file <- shpdf$name[grep("\\.shp$", shpdf$name)]
req(length(shp_file) > 0)
st_read(file.path(tempdirname, shp_file)) %>%
st_transform(4326) # Leaflet requires WGS84
})
# --- B. Background Map Setup ---
output$map <- renderLeaflet({
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -45, lat = -15, zoom = 4)
})
# --- C. Live Map Update (The "Magic") ---
# Whenever map_raw changes, it updates the background map
observe({
req(map_raw())
leafletProxy("map") %>%
clearShapes() %>%
addPolygons(data = map_raw(),
color = "#18bc9c",
weight = 2,
fillOpacity = 0.3,
label = ~"Raw Input Shape") %>%
flyToBounds(
st_bbox(map_raw())[1], st_bbox(map_raw())[2],
st_bbox(map_raw())[3], st_bbox(map_raw())[4]
)
})
# --- D. Workshop Outputs (Skeletons) ---
output$map_shp_names <- renderText({
if(is.null(input$filemap)) return("Waiting for map upload...")
paste("Columns:", paste(names(map_raw()), collapse = ", "))
})
output$map_crs <- renderText({
req(map_raw())
paste("Original CRS:", st_crs(map_raw())$input)
})
}
library(shiny)
library(leaflet)
library(shinydashboard)
ui <- fillPage(
# --- 1. CSS & Header ---
tags$style(type = "text/css", "
html, body {width:100%; height:100%; margin:0; padding:0; overflow: hidden;}
.top-nav-bar {
position: absolute; top: 0; left: 0; width: 100%; height: 50px;
background-color: rgba(44, 62, 80, 0.95); z-index: 2000;
display: flex; align-items: center; padding: 0 20px; color: white;
}
.nav-item { margin-right: 25px; cursor: pointer; font-weight: 500; }
.nav-item:hover { color: #18bc9c; }
.left-sidebar {
background-color: rgba(255, 255, 255, 0.9);
height: calc(100vh - 70px);
overflow-y: auto; padding: 15px; border-radius: 0 15px 15px 0;
box-shadow: 5px 0 15px rgba(0,0,0,0.1); z-index: 1000;
}
.scroll-panel {
max-height: 85vh; overflow-y: auto; background-color: rgba(255,255,255,0.9);
padding: 30px; border-radius: 10px; z-index: 1500;
}
"),
# JavaScript to capture Top-Bar clicks
tags$script("
$(document).on('click', '.nav-item', function() {
Shiny.setInputValue('selected_tab', $(this).text());
});
"),
# --- 2. Top Navigation Bar ---
tags$div(class = "top-nav-bar",
tags$div(class = "nav-item", "About SCAN"),
tags$div(class = "nav-item", "Directions"),
tags$div(class = "nav-item", "SCAN Analysis"),
tags$div(class = "nav-item", "SCAN Viewer")
),
# --- 3. The Map Background ---
leafletOutput("map", width = "100%", height = "100%"),
# --- 4. Sidebar: SCAN Analysis (The Workshop) ---
conditionalPanel(
condition = "input.selected_tab == 'SCAN Analysis'",
absolutePanel(top = 60, left = 0, width = "25%",
div(class = "left-sidebar",
tabsetPanel(id = "analysis_subtabs", type = "pills",
# SUBTAB: MAP
tabPanel("Map",
br(),
box(title = "1. Input Map", status = "primary", width = NULL, solidHeader = T,
tags$p("Upload .shp + .shx + .dbf + .prj simultaneously:"),
fileInput("filemap", "Choose Shapefile components",
multiple = TRUE,
accept = c('.shp','.dbf','.sbn','.sbx','.shx',".prj"))
),
box(title = "2. Map Workshop", status = "primary", width = NULL, solidHeader = T,
textOutput("map_shp_names"),
checkboxInput("fix_invalid", "Fix Geometries (st_make_valid)?", F),
hr(),
checkboxInput("ID_column", "Custom ID Column?", F),
conditionalPanel("input.ID_column == true",
textInput("colum_sp_map", "Column name:", "sp")),
hr(),
textOutput("map_crs"),
checkboxInput("modify_crs", "Change EPSG?", F),
conditionalPanel("input.modify_crs == true",
numericInput("map_projection", "EPSG Code:", 4326))
)
),
# SKELETON SUBTABS
tabPanel("Cs Index", br(), box(title="Index Configuration", width=NULL, "Cs Content here")),
tabPanel("SCAN", br(), box(title="Engine Execution", width=NULL, "SCAN Execution here"))
)
)
)
),
# --- 5. Content: About & Directions (Skeletons) ---
conditionalPanel(
condition = "input.selected_tab == 'About SCAN'",
absolutePanel(top = 70, left = "15%", right = "15%",
div(class = "scroll-panel", h2("About SCAN Content Placeholder")))
),
conditionalPanel(
condition = "input.selected_tab == 'Directions'",
absolutePanel(top = 70, left = "15%", right = "15%",
div(class = "scroll-panel", h2("Directions / Tutorial Content Placeholder")))
)
)
runApp('D:/SIG 2026/R_Shiny/SCAN_V2/SCAN_V2a')
library(shiny)
runGitHub("SCAN_R_4.5.2", "cassianogatto")
library(sf)
library(dplyr)
# 1. SETUP PATHS
setwd("D:/Amazon_Birds/Rego_Thesis")
# setwd("D:/Amazon_monkeys")
# setwd("D:/Amazon_birds/Data_tables_&_Shapefiles")
working_dir <- getwd() ; working_dir
shp_path    <- file.choose() ; shp_path
target_crs      <- "ESRI:4326" # WGS84
shp_sf <- st_read(shp_path)#, quiet = TRUE)
# Standardize 'sp' column
taxon_col <- grep("taxon|sp|species", names(shp_sf), ignore.case = TRUE, value = TRUE)[1]
if (is.na(taxon_col)) stop("ERROR: No 'sp' or 'Taxon' column found!")
names(shp_sf)[names(shp_sf) == taxon_col] <- "sp"
# Project, Validate, and Dissolve (Aggregate)
message(">>> Phase 1b: Cleaning and Dissolving geometries...")
shp_sf_clean <- shp_sf %>%
select(sp) %>%
st_transform(target_crs) %>%
st_make_valid() %>%
group_by(sp) %>%
summarize(geometry = st_union(geometry)) %>%
st_make_valid() %>%
ungroup()
target_crs      <- "EPSG:4326" # WGS84
shp_sf_clean <- shp_sf %>%
select(sp) %>%
st_transform(target_crs) %>%
st_make_valid() %>%
group_by(sp) %>%
summarize(geometry = st_union(geometry)) %>%
st_make_valid() %>%
ungroup()
shp_sf_clean <- shp_sf %>%
select(sp) %>%
# st_transform(target_crs) %>%
st_make_valid() %>%
group_by(sp) %>%
summarize(geometry = st_union(geometry)) %>%
st_make_valid() %>%
ungroup()
shp_sf_clean <- shp_sf %>%
select(sp) %>%
st_transform(target_crs)
st_write(shp_sf_clean,dsn = "D:/Amazon_Birds/Rego_Thesis", file = "birds_Rego_WGS84" )
st_write(shp_sf_clean,dsn = "D:/Amazon_Birds/Rego_Thesis", file = "birds_Rego_WGS84" , driver = "ESRI Shapefile")
runGitHub("SCAN_R_4.5.2", "cassianogatto")
library("shiny")
runGitHub("SCAN_R_4.5.2", "cassianogatto")
"D:/Amazon_Birds/Rego_Thesis"
runGitHub("SCAN_R_4.5.2", "cassianogatto")
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
runApp('D:/SIG 2026/R_Shiny/SCAN_V2')
getwd()
setwd("~/")
getwd()
setwd("D:/SIG 2026/R_Shiny/SCAN_V2")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
install.packages("shinyjs")
runApp()
runApp()
runApp()
